<div class="positionAbsolute">
  <app-header></app-header>
</div>
<div class="loader" *ngIf="loader">
  <app-loader></app-loader>
</div>
<div *ngIf="posts" class="mainDivForMobile">
  <div class="divMainPosts">
    <div *ngFor="let post of posts">
      <div class="mt-5 divMainPersomPost">
        <div
          [ngClass]="{
            rtl: contentWords.ContentLoginRegister.direction === rtl
          }"
          *ngIf="post.userImage"
          class="divImagePesonPost"
        >
          <img class="imagePersonPost" [src]="post.userImage" alt="" />
        </div>
        <div
          [ngClass]="{
            rtl: contentWords.ContentLoginRegister.direction === rtl
          }"
          *ngIf="!post.userImage"
          class="divImagePesonPost"
        >
          <i
            [ngStyle]="{ color: 'rgb(139, 139, 139)' }"
            class="personIcon far fa-user"
          ></i>
        </div>
        <div
          [ngClass]="{
            rtl: contentWords.ContentLoginRegister.direction === rtl
          }"
          class="divNamePersonPost"
        >
          <p class=" namePerson">
            {{ post.fullName ? post.fullName : post.userName }}
          </p>
        </div>
        <div class="divMoreInfoPersonP">
          <i class="iconMoreInfo fas fa-ellipsis-h"></i>
        </div>
      </div>
      <div>
        <h3 class="mt-3 mb-4 text-center font-weight-bold">{{ post.title }}</h3>
      </div>
      <div>
        <img class="imagePost" [src]="post.imagePost" alt="" />
      </div>
      <div>
        <h4 class="font-weight-bold mt-2 mb-4 text-center underline">
          {{ contentWords.home.Ingredients }}
        </h4>
      </div>
      <div
        [ngClass]="{ rtl: !post.direction }"
        class="divIngrdiet"
        *ngFor="let ingredient of post.ingredients"
      >
        <h5 class="font-normal ml-5 mr-5">{{ ingredient }}</h5>
      </div>
      <div style="clear: both">
        <h4 class="font-weight-bold mt-5 mb-4 text-center underline">
          {{ contentWords.home.Instructions }}
        </h4>
      </div>
      <div>
        <p
          class="font-normal ml-3 mr-3"
          [ngClass]="{ 'text-right': !post.direction }"
        >
          {{ post.Instructions }}
        </p>
      </div>
      <hr style="width: 95vw;" class="ml-3 mr-3" />






      <div id="post._id + 1" [ngClass]="{displayNone:!post.likesId.includes(UserId)}">
        <div>
          <p class="font-normal color-graay ml-5 float-left">תגובות</p>
          <p class="font-normal color-graay float-right">
            {{ post.likesId.includes(UserId)? post.likesId.length -1 : post.likesId.length
            }}<i
              style="color: rgb(75, 112, 100)"
              class="ml-1 mr-5 fas fa-heart"
            ></i>
          </p>
        </div>
        <hr style="width: 83vw;clear: both;" class="ml-5 mr-5" />
        <div>
          <div class="divIcons">
            <i class="color-graay icons far fa-save"></i>
          </div>
          <div class="divIcons">
            <i class="color-graay icons far fa-comment-alt"></i>
          </div>
          <div class="divIcons">
            <a (click)="onUserLikePost(post._id, post.likesId.includes(UserId))"
              ><i
                [ngClass]="{ styleLikeUser: post.likesId.includes(UserId) }"
                class=" color-graay icons far fa-thumbs-up"
              ></i
            ></a>
          </div>
        </div>
      </div>
      <div id="post._id" [ngClass]="{displayNone:post.likesId.includes(UserId)}">
        <div>
          <p class="font-normal color-graay ml-5 float-left">תגובות</p>
          <p class="font-normal color-graay float-right">
            {{post.likesId.includes(UserId)? post.likesId.length : post.likesId.length+1
            }}<i
              style="color: rgb(75, 112, 100)"
              class="ml-1 mr-5 fas fa-heart"
            ></i>
          </p>
        </div>
        <hr style="width: 83vw;clear: both;" class="ml-5 mr-5" />
        <div>
          <div class="divIcons">
            <i class="color-graay icons far fa-save"></i>
          </div>
          <div class="divIcons">
            <i class="color-graay icons far fa-comment-alt"></i>
          </div>
          <div class="divIcons">
            <a (click)="onUserPullLikePost(post._id)"
              ><i
                [id]=""
                [ngClass]="{ styleLikeUser: post.likesId.includes(UserId) }"
                class=" color-graay icons far fa-thumbs-up"
              ></i
            ></a>
          </div>
        </div>
      </div>

      <div class="spicePosts"></div>
    </div>
  </div>
</div>

<div id="addPostMoblie" class="addPostForMoblie positionAbsolute">
  <div (click)="filePicker.click()" class="divIconPlusForMobile">
    <i class="fas fa-plus iconPlusForMobile"></i>
  </div>

  <form [formGroup]="addImageForm">
    <div>
      <input
        id="clickButton"
        class="d-none"
        type="file"
        accept="image/png,image/gif,image/jpeg,image/jpg"
        #filePicker
        (change)="onImagePicked($event)"
      />
    </div>
  </form>
</div>
